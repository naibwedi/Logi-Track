@model logirack.Models.ViewModel.SetPriceViewModel
<div class="container mx-auto p-6">
    <div class="bg-white shadow rounded-lg max-w-2xl mx-auto">
        <div class="px-6 py-4 border-b">
            <h1 class="text-2xl font-bold">Set Final Price</h1>
            <p class="text-gray-600">Trip #@Model.TripId - @Model.CustomerName</p>
        </div>

        <div class="px-6 py-4 border-b">
            <h2 class="text-lg font-semibold mb-4">Trip Details</h2>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <p><strong>From:</strong> @Model.FromCity</p>
                    <p><strong>To:</strong> @Model.ToCity</p>
                </div>
                <div>
                    <p><strong>Distance:</strong> @Model.Distance km</p>
                    <p><strong>Weight:</strong> @Model.Weight kg</p>
                </div>
            </div>
            <div class="mt-4">
                <p class="text-gray-700"><strong>System Estimated Price:</strong> @Model.EstimatedPrice NOK</p>
            </div>
        </div>

        <form asp-action="SetPrice" method="post" class="px-6 py-4">
            <input type="hidden" asp-for="TripId" />

            <div class="mb-6">
                <label asp-for="AdminPrice" class="block text-sm font-medium mb-2"></label>
                <input asp-for="AdminPrice" type="number" step="0.01"
                       class="w-full px-3 py-2 border rounded-lg"/>
                <span asp-validation-for="AdminPrice" class="text-red-500 text-sm"></span>
            </div>

            <div class="mb-6">
                <label asp-for="PriceJustification" class="block text-sm font-medium mb-2"></label>
                <textarea asp-for="PriceJustification" rows="3"
                          class="w-full px-3 py-2 border rounded-lg"
                          placeholder="Explain the reasoning behind the set price"></textarea>
                <span asp-validation-for="PriceJustification" class="text-red-500 text-sm"></span>
            </div>

            <div class="flex justify-end space-x-4">
                <a href="@Url.Action("TripDetails", new { id = Model.TripId })"
                   class="px-4 py-2 border rounded hover:bg-gray-50">
                    Cancel
                </a>
                <button type="submit"
                        class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    Set Price
                </button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
@{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
